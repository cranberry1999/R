---
title: "PR3"
author: "PR3_201821479_황혜린"
date: "2018년 9월 25일"
output: word_document
---

# Factor

## 1. 명목형 자료 만들기 
```{r}
score<-factor(c(3, 2, 3, 4, 3, 1, 1, 3, 2, 2, 1, 1, 5),
              levels=c(1,2,3,4),
              labels=c("A", "B", "C", "D"),
              ordered=T)
score
```

## 2. 명목형 자료로 변환하기 
```{r}
fac_char <- c("포도", "키위", "메론", "바나나", "딸기" )
attributes(fac_char)

fac_char <- as.factor(fac_char)
attributes(fac_char)

fac_num = 1:4
attributes(fac_num)
fac_num = as.factor(fac_num)
attributes(fac_num)
```

## 3. 팩터형 자료 빈도 파악
```{r}
table(score)

tb <- table(score)
tb[tb>3]
```

## 4. 서수형 자료와 명목형 자료의 차이 
```{r}
score[1] > score[3]

fac_char[1] > fac_char[2]
#(1)은 서수형 자료로서 숫자의 크기를 비교하는 수식에서 false라는 값을 나타낼 수 있지만, (2)는 명목형 자료로서 명목형 자료란 분류를 목적으로 하므로 숫자의 크기를 비교하는 것이 의미가 없다. 따라서 "not meaningful for factors"라는 오류가 뜬다.
```

# Matrix

## 5. matrix 생성 
```{r}
mat <- matrix(1:8, nrow=2, ncol=4, byrow=T)

dim(mat) ; length(mat)

matrix(1:8, nrow=2, ncol=4, byrow=F)
matrix(1:8, nrow=2)
matrix(1:8, ncol=2)
matrix(1:8, ncol=4, byrow=T)
matrix(1:9, nrow=3, ncol=3, dimnames = (list(c("r1", "r2","r3"), c("c1", "c2","c3"))))
```

## 6. matrix 각 차원에 이름 부여 
```{r}
mat
rownames(mat)<-c("행 1","행 2")
colnames(mat)<-c("열 1","열 2","열 3","열 4")
mat
```

## 7. rbind() 와 cbind()를 사용한 매트릭스 생성 
```{r}
x <- 2:4 ;x

y <- 9:11 ; y

cbind(x, y)
rbind(x, y)
```

## 8. rbind()와 cbind()를 사용한 데이터 추가 
```{r}
mat

cbind(mat,10:11)
rbind(mat,20:23)
```

## 9. matrix 데이터 접근과 변환 
```{r}
x <- 1:3 ;x
y <- 10:12 ; y
mat <- cbind(x, y) ; mat
mat[1,1] <- 100 ; mat
mat[2,] <- mat[2,] / 4 ; mat
mat[,2] <- mat[,2] - mat[,1] * 3 ; mat
```

# list

## 10. 여러 벡터를 이용해 리스트 만들기 
```{r}
str_vec <- c("korea", "USA", "Japan")
num_vec <- c(100, 200, 300, 400, 500)
mat <- matrix(2:9, 2, 4)
list_tot <- list(str_vec, num_vec, mat)
print(list_tot)

names(list_tot) <- c('str_vec', 'num_vec', 'mat')
print(list_tot)
```

## 11. list 함수 내에서 성분의 이름 지정하여 리스트 만들기 
```{r}
list_tot2= list(seq = seq(1,10,2), 
                str = c("토끼", "사자","코끼리", "양"),
                plus = rep(c('고구마', '감자','옥수수'),2))
print(list_tot2)
```

## 12. 데이터의 속성을 확인하는 다양한 함수
```{r}
class(list_tot)
length(list_tot)
attributes(list_tot)
str(list_tot)
```

## 13. 리스트의 성분에 접근하기 
```{r}
list_tot2[1]
list_tot2[3]
list_tot2[1:2]
list_tot2$seq
list_tot2$str
```

## 14. 리스트의 성분안에 있는 원소에 접근하기 
```{r}
list_tot[[3]][1]
list_tot2$seq[3]
list_tot2$str[1:2]
```

## 15. 리스트의 성분이나 원소 조작하기 
```{r}
list_tot[1] = NULL
str(list_tot)

list_tot2$str[1] = "고양이"
str(list_tot2)

list_tot$NEW = 2:5
str(list_tot)
```

## 16. 리스트의 성분에 하위 리스트 추가하여 계층적으로 리스트 만들기 
```{r}
list_tot$hierarchy[[1]] = list_tot2
str(list_tot)
```

## 17. Array 생성하기
```{r}
arr <- array(1:18, dim=c(3,3,2),
             dimnames=list(c("KOR","CHI","JAP"),
                           c("GDP.R", "USD.R", "Cuur.Acc"),
                           c("2011Y", "2012Y")))
arr

arr1 <- 1:18
dim(arr1) <- c(3,3,2)
dimnames(arr1) <- list(c("KOR","CHI","JAP"),
                       c("GDP.R", "USD.R", "Cuur.Acc"),
                       c("2011Y", "2012Y"))
arr1

arr1==arr
```

##  18. Array 조작방법 
```{r}
arr
arr[1,,]
arr[,-2,]
arr[,,2]
arr[,,"2012Y"]
arr[c(T,T,F),,2]

arr.tmp <- arr
arr.tmp

arr.tmp[,,1] <- c(5,6,4)
arr.tmp

arr.tmp[,1,2] <- NA
arr.tmp

arr.tmp[is.na(arr.tmp)] <- c(8,5,2)
arr.tmp
```

## 19. NA값 다루기
```{r}
x <- c(1, 2, NA, 4, NA, 5)
is.na(x)

bad <- is.na(x)
y <- x[!bad]
mean(y)

x <- c(1, 2, NA, 4, NA, 5)
good <- complete.cases(x)
x[good]
```

# PR3 연습문제 
## List
## 1-1)
```{r}
female_unemployment_rate <- c(3.7, 3.0, 2.7, 2.5, 3.3, 2.9, 2.6, 2.6, 4.0, 3.7, 3.1, 3.1, 4.2, 3.8, 3.2, 3.0, 4.2, 3.6, 3.3, 3.2, 4.4, 3.7, 3.2, 2.9) #여성실업률
male_unemployment_rate <- c(3.8, 3.4, 3.2, 3.1, 3.8, 3.2, 3.2, 2.9, 3.9, 3.6, 3.4, 3.3, 4.0, 3.8, 3.6, 3.2, 4.3, 3.8, 3.7, 3.2, 4.2, 4.0, 3.7, 3.4) #남성실업률
unemploy_rate <- (female_unemployment_rate + male_unemployment_rate) / 2 #실업률
unemploy_rate_list <- list(female_unemployment_rate, male_unemployment_rate, unemploy_rate)
print(unemploy_rate_list) #리스트 출력!!

names(unemploy_rate_list) <- c('female_unemployment_list', 'male_unemployment_list', 'unemploy_rate') #names하고 출력 
print(unemploy_rate_list) 

str(unemploy_rate_list) #데이터의 속성을 한번 더 확인!
```

## 1-2)
```{r}
unemploy_rate_list[1] = NULL #첫번째 성분을 삭제합니다
str(unemploy_rate_list)

unemploy_rate_list$female_unemployment_list = "startup_rate"
str(unemploy_rate_list) #startup_rate라는 원소를 덮어씁니다

unemploy_rate_list$NEW = 1:24
str(unemploy_rate_list) #새로운 1:24라는 성분을 추가합니다 
```

## Array

## 2-1)
```{r}
female_unemployment_arr <- array(female_unemployment_rate, dim=c(4,6,1), 
dimnames=list(c("1/4","2/4","3/4","4/4"),
              c("2012Y", "2013Y", "2014Y", "2015Y", "2016Y", "2017Y"),
              c("woman_unemp")))

female_unemployment_arr #여성실업률 array

male_unemployment_arr <- array(male_unemployment_rate, dim=c(4,6,1), 
dimnames=list(c("1/4","2/4","3/4","4/4"),
              c("2012Y", "2013Y", "2014Y", "2015Y", "2016Y", "2017Y"),
              c("man_unemp")))

male_unemployment_arr #남성실업률 array

unemploy_rate_arr <- array(unemploy_rate, dim=c(4,6,1), 
dimnames=list(c("1/4","2/4","3/4","4/4"),
              c("2012Y", "2013Y", "2014Y", "2015Y", "2016Y", "2017Y"),
              c("total_unemp")))

unemploy_rate_arr #총 실업률 array
```
## 2-2)
```{r}
female_unemployment_arr[,-3,]
male_unemployment_arr[,-3,]
unemploy_rate_arr[,-3,] 
#위 3개는 2014년을 제외한 각각의 실업률입니다

unemploy_rate_arr #총 실업률만 출력합니다
```

# PR3 도전문제
# 문제
```{r}

mat <- matrix(c(2,4,-1,3,1,2,1,-3,2,4,-2,2), nrow=3, ncol=4)
mat #계수 행렬을 만들고 값을 확인해봅니다

mat[1,] <- mat[1,] / 2 ; mat #과정2

mat[2,] <- mat[2,] - mat[1,] * 4 ; mat
mat[3,] <- mat[3,] - mat[1,] * (-1) ; mat #과정3

mat[2,] <- mat[2,] / (-5) ; mat #과정4

mat[1,] <- mat[1,] - mat[2,] * 1.5 ; mat
mat[3,] <- mat[3,] - mat[2,] * 3.5 ; mat #과정5

mat[3,] <- mat[3,] / (-1) ; mat #과정6

mat[1,] <- mat[1,] - mat[3,] * (-1) ; mat
mat[2,] <- mat[2,] - mat[3,] * 1 ; mat #과정7
```


