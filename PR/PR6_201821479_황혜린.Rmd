---
title: "PR6"
author: "PR6_201821479_황혜린"
date: "2018년 10월 28일"
output: word_document
---
# 함수와 사용자정의 함수
## 함수
- 특정 목적에 맞게 생성된 연산과정의 집합
- ex)mean함수 : 모든 원소의 합을 원소의 개수로 나눔

## 사용자 정의 함수
- 사용자의 편의에 따라 직접 작성하여 사용하는 함수
- 함수명 = function(인수){연산과정}형태로 작성(한가지 연산만 할 경우 {}로 묶지 않아도 됨)
- 연산과정으로 나오는 결과값을 return, print, cat등으로 변환하는 형태가 이상적

### 예시1. 두 숫자를 비교해 더 큰 수를 반환하는 함수
```{r}
compare <- function(x,y) if(x>y) cat(x) else cat(y)
compare(10,20)
```

### 예시2. 평균값과 표준오차를 계산하는 함수
```{r}
se <- function(x) {
  tmp.sd <- sd(x)
  tmp.N <- length(x)
  tmp.se <- tmp.sd / sqrt(tmp.N)
  return(tmp.se)
}

A<-c(1,2,3,4,5,6,7,8,9,10)
se(A)
```

### 예시3. 데이터 프레임의 앞 뒤 3개의 데이터를 리스트로 보여주는 함수
```{r}
head_tail <- function(x){
  front <- head(x, 3)
  rear <- tail(x, 3)
  F_R <- list(front, rear)
  return(F_R)
}

head_tail(mtcars)
```

### 예시4. 홀수 판별 함수
```{r}
oddnum <- function(x){
  if(x%%2==1){
    return(T)
  } else {
      return(F)
    }
}
```

### scope of variable
- 함수 바깥에서 생성된 변수는 같은 함수 안에서는 언제나 사용가능 
- 함수 안에서 생성된 변수는 함수가 종료되면 사라짐
- 함수 내에서 생성된 변수가 사라지지 않게 하려면 "<<-"을 할당연산자로 사용
```{r}
scopetest <- function(x){
  a <- 10 
  print(a)
  print(x)
}

scopetest(9)
#print(a) 

scopetest <- function(x){
  a <<- 10
  print(a)
  print(x)
}

scopetest(9)

print(a)
```

# 연습문제 
```{r}
in.rate <- function(x,y){
  revenue <- ((x - y) / y) * 100
  return(revenue)
}
a <- c(11905000, 11973000, 12190000, 12700000, 12303000, 12604000) #금일의 종가 
b <- c(0, 11905000, 11973000, 12190000, 12700000, 12303000)   #첫날의 전일의 종가는 알 수 없기 때문에 0으로 적었습니다
in.rate(a,b)
```

